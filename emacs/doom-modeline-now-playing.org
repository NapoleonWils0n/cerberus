#+STARTUP: showall
* doom modeline now playing
** doom-modeline-now-playing

important doom-modeline-now-playing must go before doom-modeline in your init.el

#+begin_src emacs-lisp
;; ----------------------------------------------------------------------------------
;; doom-modeline now playing
;; ----------------------------------------------------------------------------------

(use-package doom-modeline-now-playing
  :after doom-modeline
  :defer t 
  :config
  (setq doom-modeline-now-playing-playerctl-format "[{{duration(position)}}/{{duration(mpris:length)}}] {{title}}")
  (setq doom-modeline-now-playing-interval 1)
  (doom-modeline-now-playing-timer))
#+end_src

** doom-modeline

#+begin_src emacs-lisp
;; ----------------------------------------------------------------------------------
;; doom-modeline
;; ----------------------------------------------------------------------------------

(use-package doom-modeline
  :init
  (setq doom-modeline-icon t
        doom-modeline-buffer-file-name-style 'truncate-except-project
        doom-modeline-time-icon nil
        doom-modeline-buffer-encoding nil
        doom-modeline-major-mode-icon t
        doom-modeline-battery t
        doom-modeline-vcs-icon t
        doom-modeline-vcs-bar-width 4
        doom-modeline-vcs-max-length 15)
  (display-battery-mode t)
  :config
  (doom-modeline-mode 1)
  (doom-modeline-def-modeline 'main
    '(bar matches buffer-info remote-host buffer-position selection-info now-playing)
    '(misc-info minor-modes input-method buffer-encoding major-mode process vcs check battery time)))
#+end_src

