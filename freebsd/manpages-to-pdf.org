#+STARTUP: content
* manpages to pdf
** mandoc install 

#+begin_src sh
doas pkg install mandoc
#+end_src

** convert manpages to html

#+begin_src sh
#!/bin/sh

# Create the html_manpages directory:
mkdir -p html_manpages

# Find and convert man pages from the source tree:
count=0
find /usr/src/share/man -type f -name "*.[1-9]*" | while read file; do
  # Generate a unique filename:
  unique_filename="src_manpage_$(printf "%08d" $count).html"
  count=$((count + 1))

  # Convert the man page to HTML using mandoc:
  mandoc -Thtml "$file" > "html_manpages/${unique_filename}";
done
#+end_src

** textlive-full and pandoc install

#+begin_src sh
doas pkg install texlive-full pandoc
#+end_src

** pandoc convert html to pdf

#+begin_src sh
# Convert each HTML file to PDF using Pandoc:
mkdir -p pdf_manpages
for html_file in html_manpages/*.html; do
  pdf_file="pdf_manpages/$(basename "$html_file" .html).pdf"
  pandoc -f html "$html_file" -o "$pdf_file"
done
#+end_src

** qpdf install

#+begin_src sh
doas pkg install qpdf
#+end_src

** qpdf combine pdfs

#+begin_src sh
# Combine PDF files using qpdf:
qpdf --empty --pages pdf_manpages/*.pdf -- freebsd_manpages.pdf
#+end_src


