#+STARTUP: content
* n8n podman
** podman install debian

#+begin_src sh
doas apt install podman podman-compose
#+end_src

** open port 5678

make sure to open port 5678 in your firewall

** n8n git repo 

[[https://docs.n8n.io/hosting/installation/server-setups/docker-compose/]]

[[https://github.com/n8n-io/n8n-hosting/tree/main/docker-compose/withPostgres]]

** clone the n8n git repo

#+begin_src sh
git clone https://github.com/n8n-io/n8n-hosting.git
#+end_src

this create a n8n-hosting directory

** create the n8n directory

#+begin_src sh
mkdir -p ~/podman/n8n
#+end_src

** copy the contents of the withPostgres into the n8n directory

#+begin_src sh
cp n8n-hosting/docker-compose/withPostgres/* ~/podman/n8n
#+end_src

** edit the .env file

edit the .env file

#+begin_src sh
vi ~/podman/n8n/.env
#+end_src

change the user and passwords

#+begin_src sh
POSTGRES_USER=changeUser
POSTGRES_PASSWORD=changePassword
POSTGRES_DB=n8n

POSTGRES_NON_ROOT_USER=changeUser
POSTGRES_NON_ROOT_PASSWORD=changePassword
#+end_src

** n8n start

start n8n

#+begin_src sh
podman-compose up -d
#+end_src

** n8n stop

stop n8n

#+begin_src sh
podman-compose down
#+end_src

** searxng api

to connect to searxng running in a podman container

you need to use a docker url 

#+begin_example
http://host.docker.internal:8080
#+end_example

this connects to searxng running on

#+begin_example
http://localhost:8080
#+end_example
